"use strict";(self.webpackChunkaloe_uz=self.webpackChunkaloe_uz||[]).push([[310],{2310:function(e,n,t){t.r(n);var r=t(4165),s=t(5861),a=t(9439),c=t(6251),i=t(7313),u=t(8467),o=t(2135),d=t(7255),l=t(9897),p=t(7109),x=t(97),h=t(581),m=t(423),f=t(6367),v=t(6417);n.default=function(){var e=(0,i.useState)(!1),n=(0,a.Z)(e,2),t=n[0],j=(n[1],(0,i.useState)(!1)),g=(0,a.Z)(j,2),w=g[0],Z=g[1],k=(0,u.UO)().id,y=(0,i.useState)(null),b=(0,a.Z)(y,2),N=(b[0],b[1]),F=(0,u.TH)(),S=(0,i.useState)(!0),P=(0,a.Z)(S,2),L=P[0],q=P[1],z=(0,p.NL)(),T=(0,x.a)({queryFn:function(){var e=(0,s.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,m.wv)(k));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),queryKey:["editProduct",{id:k}],staleTime:0,cacheTime:0}),U=T.data,_=T.isLoading,C=(T.isSuccess,T.isFetched,(0,h.D)({mutationFn:function(){var e=(0,s.Z)((0,r.Z)().mark((function e(n){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,m.O8)(n));case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),onSuccess:function(){var e=(0,s.Z)((0,r.Z)().mark((function e(n){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z.invalidateQueries({queryKey:["editProduct"]});case 2:Z((0,v.jsxs)("div",{className:"response-message flex content-center",children:[(0,v.jsxs)("div",{className:"content-center",children:["\u041f\u0440\u043e\u0434\u0443\u043a\u0442"," ",(0,v.jsxs)(o.rU,{className:"text-green-900 hover:drop-shadow hover:cursor-pointer underline font-oswald",to:"/product/".concat(n.sku),children:[n.title," - ",n.sku]})," ","\u0443\u0441\u043f\u0456\u0448\u043d\u043e \u043e\u043d\u043e\u0432\u043b\u0435\u043d\u043e. \u2705"]}),(0,v.jsx)("img",{className:"max-w-xs max-h-20",src:n.image_path,alt:n.title})]})),q((function(e){return!e}));case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()})),E=C.mutateAsync,K=C.isPending;return(0,i.useEffect)((function(){return function(){}}),[F,k]),(0,i.useEffect)((function(){N(U)}),[U]),_||K||t?(v.Fragment,null===U||void 0===U||U.description,(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(c.Z,{breadcrumbs:[{name:"\u041f\u0440\u043e\u0434\u0443\u043a\u0442\u0438",link:"/products"},{name:"Loading... Please wait"}]}),(0,v.jsxs)("div",{className:"flex justify-center",children:[(0,v.jsx)("span",{className:"loader"}),(0,v.jsx)("h1",{children:"Loading... Please wait"})]})]})):(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(f.Z,{title:"\u041e\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044f \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u0443 '".concat(null===U||void 0===U?void 0:U.title,"'-\u2116").concat(null===U||void 0===U?void 0:U.sku)}),U?(0,v.jsx)(c.Z,{breadcrumbs:[{name:"".concat(U.title," (\u2116 ").concat(U.sku,")"),link:"/product/".concat(U.sku)},{name:"\u041e\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044f \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u0443"}]}):(0,v.jsx)(c.Z,{breadcrumbs:[{name:"Products",link:"/products?category=all"},{name:"\u0421\u0442\u0432\u043e\u0440\u0435\u043d\u043d\u044f \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u0443"}]}),(0,v.jsxs)("div",{className:"page-content px-32 py-5 max-sm:px-5 text-justify",children:[w&&(0,v.jsx)("h4",{children:w}),U?(0,v.jsxs)("div",{children:[(0,v.jsxs)("h1",{className:"font-oswald text-gray-700",children:["\u041e\u043d\u043e\u0432\u0438\u0442\u0438 \u043f\u0440\u043e\u0434\u0443\u043a\u0442 '",U.title,"' \u2014 (\u2116 ",U.sku,")."]}),(0,v.jsx)(d.m,{product:U,onSubmit:function(e){console.log(e),(0,l.p)(),E(e)},triggerRerender:L},"".concat(null===U||void 0===U?void 0:U.id))]}):(0,v.jsxs)("div",{children:[(0,v.jsx)("h1",{className:"font-oswald text-zinc-700",children:"\u041f\u0440\u043e\u0434\u0443\u043a\u0442 \u043d\u0435 \u0437\u043d\u0430\u0439\u0434\u0435\u043d\u043e."}),(0,v.jsx)("p",{children:"\u041e\u043d\u043e\u0432\u0456\u0442\u044c \u0441\u0442\u043e\u0440\u0456\u043d\u043a\u0443(F5) \u0430\u0431\u043e \u043f\u0435\u0440\u0435\u0439\u0434\u0456\u0442\u044c \u043d\u0430 \u0441\u0442\u043e\u0440\u0456\u043d\u043a\u0443 \u0441\u0442\u0432\u043e\u0440\u0435\u043d\u043d\u044f \u043d\u043e\u0432\u043e\u0433\u043e \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u0443"}),(0,v.jsx)(o.rU,{to:"/product/add",className:"text-green-900 hover:drop-shadow hover:cursor-pointer underline font-oswald",children:"\u0421\u0442\u0432\u043e\u0440\u0438\u0442\u0438 \u043f\u0440\u043e\u0434\u0443\u043a\u0442"})]})]})]})}}}]);