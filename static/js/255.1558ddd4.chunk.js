"use strict";(self.webpackChunkaloe_uz=self.webpackChunkaloe_uz||[]).push([[255],{7255:function(e,t,r){r.d(t,{m:function(){return H}});var i=r(1413),n=r(9439),o=r(7313),s=r(5627),l=r(6162),a=r(8437),c=r(9106);function d(e){var t=(0,o.useState)(!1),r=(0,n.Z)(t,2),i=r[0],s=r[1];return(0,o.useEffect)((function(){var t=new IntersectionObserver((function(e){var t=(0,n.Z)(e,1)[0];s(t.isIntersecting)}));return e.current&&t.observe(e.current),function(){e.current&&t.unobserve(e.current)}}),[e]),i}var u=r(6417),h=function(e){var t=e.editor,r=(0,a.sZ)({editor:t,selector:function(e){return{isBold:e.editor.isActive("bold"),canBold:e.editor.can().chain().focus().toggleBold().run(),isItalic:e.editor.isActive("italic"),canItalic:e.editor.can().chain().focus().toggleItalic().run(),isStrike:e.editor.isActive("strike"),canStrike:e.editor.can().chain().focus().toggleStrike().run(),isUnderline:e.editor.isActive("underline"),isCode:e.editor.isActive("code"),canCode:e.editor.can().chain().focus().toggleCode().run(),canClearMarks:e.editor.can().chain().focus().unsetAllMarks().run(),isParagraph:e.editor.isActive("paragraph"),isHeading1:e.editor.isActive("heading",{level:1}),isHeading2:e.editor.isActive("heading",{level:2}),isHeading3:e.editor.isActive("heading",{level:3}),isHeading4:e.editor.isActive("heading",{level:4}),isHeading5:e.editor.isActive("heading",{level:5}),isHeading6:e.editor.isActive("heading",{level:6}),isBulletList:e.editor.isActive("bulletList"),isOrderedList:e.editor.isActive("orderedList"),isCodeBlock:e.editor.isActive("codeBlock"),isBlockquote:e.editor.isActive("blockquote"),canUndo:e.editor.can().chain().focus().undo().run(),canRedo:e.editor.can().chain().focus().redo().run()}}}),i="px-4 py-2 text-sm font-medium text-gray-900 bg-white border border-gray-200 hover:bg-gray-100 hover:text-green-500 focus:z-10 focus:ring-2 focus:ring-blue-700 focus:text-blue-700 ";return(0,u.jsx)("div",{className:"editor-menu control-group flex justify-center",children:(0,u.jsxs)("div",{className:"button-group inline-flex rounded-md shadow-xs",role:"group",children:[(0,u.jsx)("button",{type:"button",title:"Heading 1",onClick:function(){return t.chain().focus().toggleHeading({level:1}).run()},className:i+(r.isHeading1?"is-active":""),children:(0,u.jsxs)("svg",{width:"24",height:"24",className:"tiptap-button-icon",viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:[(0,u.jsx)("path",{d:"M5 6C5 5.44772 4.55228 5 4 5C3.44772 5 3 5.44772 3 6V18C3 18.5523 3.44772 19 4 19C4.55228 19 5 18.5523 5 18V13H11V18C11 18.5523 11.4477 19 12 19C12.5523 19 13 18.5523 13 18V6C13 5.44772 12.5523 5 12 5C11.4477 5 11 5.44772 11 6V11H5V6Z",fill:"currentColor"}),(0,u.jsx)("path",{d:"M21.0001 10C21.0001 9.63121 20.7971 9.29235 20.472 9.11833C20.1468 8.94431 19.7523 8.96338 19.4454 9.16795L16.4454 11.168C15.9859 11.4743 15.8617 12.0952 16.1681 12.5547C16.4744 13.0142 17.0953 13.1384 17.5548 12.8321L19.0001 11.8685V18C19.0001 18.5523 19.4478 19 20.0001 19C20.5524 19 21.0001 18.5523 21.0001 18V10Z",fill:"currentColor"})]})}),(0,u.jsx)("button",{type:"button",title:"Heading 2",onClick:function(){return t.chain().focus().toggleHeading({level:2}).run()},className:i+(r.isHeading2?"is-active":""),children:(0,u.jsxs)("svg",{width:"24",height:"24",className:"tiptap-button-icon",viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:[(0,u.jsx)("path",{d:"M5 6C5 5.44772 4.55228 5 4 5C3.44772 5 3 5.44772 3 6V18C3 18.5523 3.44772 19 4 19C4.55228 19 5 18.5523 5 18V13H11V18C11 18.5523 11.4477 19 12 19C12.5523 19 13 18.5523 13 18V6C13 5.44772 12.5523 5 12 5C11.4477 5 11 5.44772 11 6V11H5V6Z",fill:"currentColor"}),(0,u.jsx)("path",{d:"M22.0001 12C22.0001 10.7611 21.1663 9.79297 20.0663 9.42632C18.9547 9.05578 17.6171 9.28724 16.4001 10.2C15.9582 10.5314 15.8687 11.1582 16.2001 11.6C16.5314 12.0418 17.1582 12.1314 17.6001 11.8C18.383 11.2128 19.0455 11.1942 19.4338 11.3237C19.8339 11.457 20.0001 11.7389 20.0001 12C20.0001 12.4839 19.8554 12.7379 19.6537 12.9481C19.4275 13.1837 19.1378 13.363 18.7055 13.6307C18.6313 13.6767 18.553 13.7252 18.4701 13.777C17.9572 14.0975 17.3128 14.5261 16.8163 15.2087C16.3007 15.9177 16.0001 16.8183 16.0001 18C16.0001 18.5523 16.4478 19 17.0001 19H21.0001C21.5523 19 22.0001 18.5523 22.0001 18C22.0001 17.4477 21.5523 17 21.0001 17H18.131C18.21 16.742 18.3176 16.5448 18.4338 16.385C18.6873 16.0364 19.0429 15.7775 19.5301 15.473C19.5898 15.4357 19.6536 15.3966 19.7205 15.3556C20.139 15.0992 20.6783 14.7687 21.0964 14.3332C21.6447 13.7621 22.0001 13.0161 22.0001 12Z",fill:"currentColor"})]})}),(0,u.jsx)("button",{type:"button",title:"Heading 3",onClick:function(){return t.chain().focus().toggleHeading({level:3}).run()},className:i+(r.isHeading3?"is-active":""),children:(0,u.jsxs)("svg",{width:"24",height:"24",className:"tiptap-button-icon",viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:[(0,u.jsx)("path",{d:"M4 5C4.55228 5 5 5.44772 5 6V11H11V6C11 5.44772 11.4477 5 12 5C12.5523 5 13 5.44772 13 6V18C13 18.5523 12.5523 19 12 19C11.4477 19 11 18.5523 11 18V13H5V18C5 18.5523 4.55228 19 4 19C3.44772 19 3 18.5523 3 18V6C3 5.44772 3.44772 5 4 5Z",fill:"currentColor"}),(0,u.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19.4608 11.2169C19.1135 11.0531 18.5876 11.0204 18.0069 11.3619C17.5309 11.642 16.918 11.4831 16.638 11.007C16.358 10.531 16.5169 9.91809 16.9929 9.63807C18.1123 8.97962 19.3364 8.94691 20.314 9.40808C21.2839 9.86558 21.9999 10.818 21.9999 12C21.9999 12.7957 21.6838 13.5587 21.1212 14.1213C20.5586 14.6839 19.7956 15 18.9999 15C18.4476 15 17.9999 14.5523 17.9999 14C17.9999 13.4477 18.4476 13 18.9999 13C19.2651 13 19.5195 12.8947 19.707 12.7071C19.8946 12.5196 19.9999 12.2652 19.9999 12C19.9999 11.6821 19.8159 11.3844 19.4608 11.2169Z",fill:"currentColor"}),(0,u.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18.0001 14C18.0001 13.4477 18.4478 13 19.0001 13C19.7957 13 20.5588 13.3161 21.1214 13.8787C21.684 14.4413 22.0001 15.2043 22.0001 16C22.0001 17.2853 21.2767 18.3971 20.1604 18.8994C19.0257 19.41 17.642 19.2315 16.4001 18.3C15.9582 17.9686 15.8687 17.3418 16.2001 16.9C16.5314 16.4582 17.1582 16.3686 17.6001 16.7C18.3581 17.2685 18.9744 17.24 19.3397 17.0756C19.7234 16.9029 20.0001 16.5147 20.0001 16C20.0001 15.7348 19.8947 15.4804 19.7072 15.2929C19.5196 15.1054 19.2653 15 19.0001 15C18.4478 15 18.0001 14.5523 18.0001 14Z",fill:"currentColor"})]})}),(0,u.jsx)("button",{type:"button",title:"Paragraph",onClick:function(){return t.chain().focus().setParagraph().run()},className:i+(r.isParagraph?"is-active":""),children:(0,u.jsx)("svg",{className:"w-6 h-6 text-gray-800 dark:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",children:(0,u.jsx)("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 5v7m0 7v-7m4-7v14m3-14H8.5A3.5 3.5 0 0 0 5 8.5v0A3.5 3.5 0 0 0 8.5 12H12"})})}),(0,u.jsx)("button",{type:"button",title:"Bold",onClick:function(){return t.chain().focus().toggleBold().run()},className:i+(r.isBold?"is-active":""),children:(0,u.jsx)("svg",{"aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",children:(0,u.jsx)("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 5h4.5a3.5 3.5 0 1 1 0 7H8m0-7v7m0-7H6m2 7h6.5a3.5 3.5 0 1 1 0 7H8m0-7v7m0 0H6"})})}),(0,u.jsx)("button",{type:"button",title:"Italic",onClick:function(){return t.chain().focus().toggleItalic().run()},className:i+(r.isItalic?"is-active":""),children:(0,u.jsx)("svg",{"aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",children:(0,u.jsx)("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"m8.874 19 6.143-14M6 19h6.33m-.66-14H18"})})}),(0,u.jsx)("button",{type:"button",title:"Strike",onClick:function(){return t.chain().focus().toggleStrike().run()},className:i+(r.isStrike?"is-active":""),children:(0,u.jsxs)("svg",{width:"24",height:"24",className:"tiptap-button-icon",viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:[(0,u.jsx)("path",{d:"M9.00039 3H16.0001C16.5524 3 17.0001 3.44772 17.0001 4C17.0001 4.55229 16.5524 5 16.0001 5H9.00011C8.68006 4.99983 8.36412 5.07648 8.07983 5.22349C7.79555 5.37051 7.55069 5.5836 7.36585 5.84487C7.181 6.10614 7.06155 6.40796 7.01754 6.72497C6.97352 7.04198 7.00623 7.36492 7.11292 7.66667C7.29701 8.18737 7.02414 8.75872 6.50344 8.94281C5.98274 9.1269 5.4114 8.85403 5.2273 8.33333C5.01393 7.72984 4.94851 7.08396 5.03654 6.44994C5.12456 5.81592 5.36346 5.21229 5.73316 4.68974C6.10285 4.1672 6.59256 3.74101 7.16113 3.44698C7.72955 3.15303 8.36047 2.99975 9.00039 3Z",fill:"currentColor"}),(0,u.jsx)("path",{d:"M18 13H20C20.5523 13 21 12.5523 21 12C21 11.4477 20.5523 11 20 11H4C3.44772 11 3 11.4477 3 12C3 12.5523 3.44772 13 4 13H14C14.7956 13 15.5587 13.3161 16.1213 13.8787C16.6839 14.4413 17 15.2044 17 16C17 16.7956 16.6839 17.5587 16.1213 18.1213C15.5587 18.6839 14.7956 19 14 19H6C5.44772 19 5 19.4477 5 20C5 20.5523 5.44772 21 6 21H14C15.3261 21 16.5979 20.4732 17.5355 19.5355C18.4732 18.5979 19 17.3261 19 16C19 14.9119 18.6453 13.8604 18 13Z",fill:"currentColor"})]})}),(0,u.jsx)("button",{type:"button",title:"Underline",onClick:function(){return t.chain().focus().toggleUnderline().run()},className:i+(r.isUnderline?"is-active":""),children:(0,u.jsx)("svg",{className:"w-6 h-6 text-gray-800 dark:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",children:(0,u.jsx)("path",{stroke:"currentColor",strokeLinecap:"round",strokeWidth:"2",d:"M6 19h12M8 5v9a4 4 0 0 0 8 0V5M6 5h4m4 0h4"})})}),(0,u.jsx)("button",{type:"button",title:"Bullet list",onClick:function(){return t.chain().focus().toggleBulletList().run()},className:i+(r.isBulletList?"is-active":""),children:(0,u.jsx)("svg",{className:"w-6 h-6 text-gray-800 dark:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",children:(0,u.jsx)("path",{stroke:"currentColor",strokeLinecap:"round",strokeWidth:"2",d:"M9 8h10M9 12h10M9 16h10M4.99 8H5m-.02 4h.01m0 4H5"})})}),(0,u.jsx)("button",{type:"button",title:"Ordered list",onClick:function(){return t.chain().focus().toggleOrderedList().run()},className:i+(r.isOrderedList?"is-active":""),children:(0,u.jsx)("svg",{className:"w-6 h-6 text-gray-800 dark:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",children:(0,u.jsx)("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6h8m-8 6h8m-8 6h8M4 16a2 2 0 1 1 3.321 1.5L4 20h5M4 5l2-1v6m-2 0h4"})})}),(0,u.jsx)("button",{type:"button",title:"Left",onClick:function(){return t.chain().focus().setTextAlign("left").run()},className:i+(t.isActive({textAlign:"left"})?"is-active":""),children:(0,u.jsx)("svg",{className:"w-6 h-6 text-gray-800 dark:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",children:(0,u.jsx)("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 6h8m-8 4h12M6 14h8m-8 4h12"})})}),(0,u.jsx)("button",{type:"button",title:"Center",onClick:function(){return t.chain().focus().setTextAlign("center").run()},className:i+(t.isActive({textAlign:"center"})?"is-active":""),children:(0,u.jsx)("svg",{className:"w-6 h-6 text-gray-800 dark:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",children:(0,u.jsx)("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 6h8M6 10h12M8 14h8M6 18h12"})})}),(0,u.jsx)("button",{type:"button",title:"Right",onClick:function(){return t.chain().focus().setTextAlign("right").run()},className:i+(t.isActive({textAlign:"right"})?"is-active":""),children:(0,u.jsx)("svg",{className:"w-6 h-6 text-gray-800 dark:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",children:(0,u.jsx)("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M18 6h-8m8 4H6m12 4h-8m8 4H6"})})}),(0,u.jsx)("button",{type:"button",title:"Justify",onClick:function(){return t.chain().focus().setTextAlign("justify").run()},className:i+(t.isActive({textAlign:"justify"})?"is-active":""),children:(0,u.jsx)("svg",{className:"w-6 h-6 text-gray-800 dark:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",children:(0,u.jsx)("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M18 6H6m12 4H6m12 4H6m12 4H6"})})}),(0,u.jsx)("button",{type:"button",title:"Undo",onClick:function(){return t.chain().focus().undo().run()},disabled:!r.canUndo,className:i,children:(0,u.jsx)("svg",{className:"w-6 h-6 text-gray-800 dark:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",children:(0,u.jsx)("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 9h13a5 5 0 0 1 0 10H7M3 9l4-4M3 9l4 4"})})}),(0,u.jsx)("button",{type:"button",title:"Redo",onClick:function(){return t.chain().focus().redo().run()},disabled:!r.canRedo,className:i,children:(0,u.jsx)("svg",{className:"w-6 h-6 text-gray-800 dark:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",children:(0,u.jsx)("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 9H8a5 5 0 0 0 0 10h9m4-10-4-4m4 4-4 4"})})}),(0,u.jsx)("button",{type:"button",title:"\u0417\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0438\u0442\u0438 \u0448\u0430\u0431\u043b\u043e\u043d",onClick:function(){return t.chain().focus().setContent('<h2 style="text-align: justify;"><strong>\u0406\u041d\u0413\u0420\u0415\u0414\u0406\u0404\u041d\u0422\u0418</strong></h2><ul><li><p>\u0406\u043d\u0433\u0440\u0435\u0434\u0456\u0454\u043d\u04421</p></li></ul><h2 style="text-align: justify;"><strong>\u041e\u041f\u0418\u0421</strong></h2><p style="text-align: justify;">\u041e\u043f\u0438\u0441.</p><h2 style="text-align: justify;"><strong>\u0412\u041c\u0406\u0421\u0422</strong></h2><p style="text-align: justify;">303333\u043c\u043b.</p><h2 style="text-align: justify;"><strong>\u0417\u0410\u0421\u0422\u041e\u0421\u0423\u0412\u0410\u041d\u041d\u042f</strong></h2><p style="text-align: justify;">\u0437\u0430\u0441\u0442\u043e\u0441\u0443\u0432\u0430\u043d\u043d\u044f.</p>').run()},className:i,children:(0,u.jsx)("svg",{className:"w-6 h-6 text-gray-800 dark:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",children:(0,u.jsx)("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 13V4M7 14H5a1 1 0 0 0-1 1v4a1 1 0 0 0 1 1h14a1 1 0 0 0 1-1v-4a1 1 0 0 0-1-1h-2m-1-5-4 5-4-5m9 8h.01"})})})]})})},g=function(e){var t=e.content,r=e.onChange,i=(0,a.jE)({extensions:[c.Z,l.Z.configure({types:["heading","paragraph"]})],content:t,editorProps:{attributes:{class:"min-h-[156px] border rounded-md bg-slate-50 py-2 px-3"}},onUpdate:function(e){var t=e.editor.getHTML();r(t)}}),s=(0,o.useRef)(null),g=(0,o.useRef)(null),x=d(s),m=d(g),f=(0,o.useState)(!1),p=(0,n.Z)(f,2),v=p[0],b=p[1];return(0,o.useEffect)((function(){!x&&m&&(v||b(!0)),x&&m&&v&&b(!1)}),[x,m]),(0,o.useEffect)((function(){i.chain().setContent(t).run()}),[t]),(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("div",{className:v?"fixed-menu fixed top-16 left-0 w-full z-[999]":"normal-menu",children:(0,u.jsx)(h,{editor:i})}),(0,u.jsx)("div",{ref:s,className:"w-full py-2 "}),(0,u.jsx)(a.kg,{"data-testid":"editor-content",ref:g,editor:i})]})},x=r(3429),m=r(4165),f=r(5861),p=r(3433),v=r(423);var b=function(e){var t=e.error,r=(0,o.useState)(""),i=(0,n.Z)(r,2);i[0],i[1];return(0,u.jsx)("div",{className:"text-red-800",children:"409"===t.statusCode&&"ERROR: \u0424\u0430\u0439\u043b \u0437 \u0442\u0430\u043a\u043e\u044e \u043d\u0430\u0437\u0432\u043e\u044e \u0432\u0436\u0435 \u0456\u0441\u043d\u0443\u0454."})},C=function(e){var t=e.handleSetImageUrl,r=e.productSku,i=(0,o.useState)(r||"image"),s=(0,n.Z)(i,2),l=s[0],a=s[1],c=(0,o.useState)([]),d=(0,n.Z)(c,2),h=d[0],g=d[1],x=(0,o.useState)(""),C=(0,n.Z)(x,2),w=C[0],j=C[1],k=(0,o.useState)(0),y=(0,n.Z)(k,2),N=y[0],H=y[1],L=(0,o.useRef)(null),B=(0,o.useState)(!1),M=(0,n.Z)(B,2),Z=M[0],A=M[1],S=(0,o.useRef)(null),V=(0,o.useState)(null),U=(0,n.Z)(V,2),R=U[0],E=U[1],T=".png";(0,o.useEffect)((function(){var e=function(e){var t;if(document.activeElement===L.current){var r=null===(t=e.clipboardData)||void 0===t?void 0:t.items;if(r){var i=[];Array.from(r).forEach((function(e){if("file"===e.kind&&e.type.startsWith("image/")){var t=e.getAsFile();t&&i.push({url:URL.createObjectURL(t),name:t.name||"pasted-image-".concat(Date.now()).concat(T),type:t.type,size:t.size,file:t})}})),i.length>0&&(g((function(e){return[].concat((0,p.Z)(e),i)})),e.preventDefault())}}};return document.addEventListener("paste",e),function(){document.removeEventListener("paste",e),h.forEach((function(e){return URL.revokeObjectURL(e.url)}))}}),[]),(0,o.useEffect)((function(){console.log("uploadFileName: ",l)}),[l]);var W=function(){var e=(0,f.Z)((0,m.Z)().mark((function e(r){var i,n,o;return(0,m.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,v.j7)(r,l,T);case 3:i=e.sent,n=i.data,o=i.publicUrl,null!==n&&void 0!==n&&n.error&&(console.log(null===n||void 0===n?void 0:n.error),E(n.error)),null!==o&&void 0!==o&&""!==o&&t(o),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:return e.prev=13,A(!1),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[0,10,13,16]])})));return function(t){return e.apply(this,arguments)}}();return(0,u.jsx)(u.Fragment,{children:(0,u.jsxs)("div",{ref:S,className:"",children:[(0,u.jsxs)("div",{className:"mb-4",children:[(0,u.jsx)("label",{className:"block text-sm font-medium text-gray-900 text-left",htmlFor:"pasteInput",children:"\u0421\u043a\u043e\u043f\u0456\u044e\u0439\u0442\u0435 \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0443 \u0437 \u0412\u0430\u0448\u043e\u0433\u043e \u043a\u043e\u043c\u043f'\u044e\u0442\u0435\u0440\u0430, \u0430 \u043f\u043e\u0442\u0456\u043c \u043d\u0430\u0436\u043c\u0456\u0442\u044c \u043d\u0430 \u043f\u043e\u043b\u0435 \u043d\u0438\u0436\u0447\u0435 \u0449\u043e\u0431 \u0432\u0441\u0442\u0430\u0432\u0438\u0442\u0438 \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0443(Control + C, Control + V):"}),(0,u.jsx)("input",{ref:L,id:"pasteInput",type:"text",value:w,onChange:function(e){j(e.target.value)},placeholder:"\u0421\u043a\u043e\u043f\u0456\u044e\u0439\u0442\u0435 \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0443 \u0437 \u0412\u0430\u0448\u043e\u0433\u043e \u043a\u043e\u043c\u043f'\u044e\u0442\u0435\u0440\u0430, \u0430 \u043f\u043e\u0442\u0456\u043c \u043d\u0430\u0436\u043c\u0456\u0442\u044c \u0441\u044e\u0434\u0438 \u0449\u043e\u0431 \u0432\u0441\u0442\u0430\u0432\u0438\u0442\u0438 \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0443 \u0437\u0430 \u0434\u043e\u043f\u043e\u043c\u043e\u0433\u043e\u044e Ctrl+V",className:"w-full block p-5 border border-gray-300 rounded-md focus:outline-none focus:border-blue-500"}),(0,u.jsx)("label",{htmlFor:"imageName",className:"block text-sm font-medium text-gray-900 text-left",children:"\u041d\u0430\u0437\u0432\u0430 \u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u043d\u044f(SKU \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u0430, \u043d\u0435 \u0437\u043c\u0456\u043d\u044e\u0432\u0430\u0442\u0438 \u0432\u0440\u0443\u0447\u043d\u0443!):"}),(0,u.jsx)("input",{type:"text",id:"imageName",placeholder:"\u043d\u0430\u0437\u0432\u0430 \u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u043d\u044f(SKU \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u0430)",className:"w-full block p-2 border border-gray-300 rounded-md focus:outline-none focus:border-blue-500",hint:"some hint",defaultValue:l,onChange:function(e){a(e.target.value)}})]}),h.length>0&&(0,u.jsxs)("div",{children:[(0,u.jsx)("h3",{className:"text-left",children:"\u0417\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u0456 \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0438(\u043c\u043e\u0436\u043d\u0430 \u043e\u0431\u0440\u0430\u0442\u0438 \u044f\u043a\u0430 \u0441\u0430\u043c\u0435 \u0431\u0443\u0434\u0435 \u0437\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u0430):"}),(0,u.jsx)("div",{className:"m-8 grid grid-cols-1 lg:grid-cols-6 md:grid-cols-3 sm:grid-cols-1 gap-4",children:h.map((function(e,t){return(0,u.jsxs)("div",{className:"".concat(N===t?"box-content border-4 border-green-500":""," cursor-pointer border border-gray-300 rounded-md p-4 min-h-[13rem]"),onClick:function(){H(t)},children:[(0,u.jsxs)("div",{className:"flex flex-col items-center h-5/6 text-xs",children:[(0,u.jsx)("img",{src:e.url,alt:e.name,className:"max-w-[8rem] max-h-32"}),(0,u.jsx)("div",{children:e.name}),(0,u.jsxs)("div",{className:"",children:["Type: ",e.type]}),(0,u.jsxs)("div",{children:["Size: ",Number(e.size/1024/1024).toFixed(2)," MB"]})]}),(0,u.jsx)("div",{className:"flex justify-center",children:(0,u.jsx)("button",{type:"button",className:"font-oswald cursor-pointer text-center focus:outline-none text-white bg-zinc-700 hover:bg-gray-800 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm py-2 px-3 my-1",onClick:function(){return function(e){g((function(t){var r=(0,p.Z)(t);return console.log(r[e]),URL.revokeObjectURL(r[e].url),r.splice(e,1),r}))}(t)},children:"\ud83d\uddd1\ufe0f \u0412\u0438\u0434\u0430\u043b\u0438\u0442\u0438"})})]},t)}))}),R&&(0,u.jsx)(b,{error:R}),(0,u.jsx)("button",{disabled:Z,type:"button",className:"font-oswald  text-center focus:outline-none text-white bg-blue-700 ".concat(Z?"opacity-50 cursor-wait hover:bg-zinc-800":"cursor-pointer hover:bg-blue-800","  focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-lg px-5 py-2.5 my-4"),onClick:function(){E(null),A(!0);var e=h.at(N);console.log("Upload file:",e),W(e.file)},children:Z?"\u0417\u0430\u0447\u0435\u043a\u0430\u0439\u0442\u0435 \u0431\u0443\u0434\u044c \u043b\u0430\u0441\u043a\u0430":"\u0417\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0438\u0442\u0438 \u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u043d\u044f \u043d\u0430 \u0441\u0435\u0440\u0432\u0435\u0440"})]})]})})},w=r(1168),j=r(7114),k=r.n(j),y=r(1399),N=r.n(y),H=function(e){var t,r,l,a,c=e.product,d=e.onSubmit,h=(e.triggerRerender,(0,o.useState)(!1)),m=(0,n.Z)(h,2),f=m[0],p=m[1],v=N()(k()),b=(0,s.cI)({defaultValues:null!==c&&void 0!==c?c:{title:"",sku:"",active:"0",image_path:"",sort_index:10,description:"",category:"",description_long:"\u043e\u043f\u0438\u0441"}}),j=b.register,y=b.handleSubmit,H=b.setValue,B=b.getValues,M=b.formState,Z=M.errors,A=M.isDirty,S=function(){v.fire({title:"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u043d\u043d\u044f URL \u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u043d\u044f",input:"text",inputLabel:"\u041f\u043e\u0441\u0438\u043b\u0430\u043d\u043d\u044f \u043d\u0430 \u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u043d\u044f(\u0434\u043b\u044f \u0440\u0443\u0447\u043d\u043e\u0457 \u0437\u043c\u0456\u043d\u0438)",inputPlaceholder:"\u041f\u043e\u0441\u0438\u043b\u0430\u043d\u043d\u044f \u043d\u0430 \u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u043d\u044f(\u0434\u043b\u044f \u0440\u0443\u0447\u043d\u043e\u0457 \u0437\u043c\u0456\u043d\u0438)",inputValue:B("image_path"),inputValidator:function(e){if(!e)return"\u041f\u043e\u043b\u0435 \u043f\u043e\u0441\u0438\u043b\u0430\u043d\u043d\u044f \u043d\u0430 \u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u043d\u044f \u043d\u0435 \u043c\u043e\u0436\u0435 \u0431\u0443\u0442\u0438 \u043f\u043e\u0440\u043e\u0436\u043d\u0456\u043c!"},width:"80%",showCancelButton:!0,showCloseButton:!0,showConfirmButton:!0,allowOutsideClick:!1,confirmButtonText:"\u041f\u0456\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u0438",cancelButtonText:"\u0412\u0456\u0434\u043c\u0456\u043d\u0438\u0442\u0438",customClass:{confirmButton:"order-1 bg-green-700 hover:bg-green-800 font-oswald",cancelButton:"order-2 bg-zinc-500 hover:bg-zinc-600 font-oswald"},didOpen:function(){return p(!0)},didClose:function(){p(!1)},preConfirm:function(){var e,t=null===(e=k().getInput())||void 0===e?void 0:e.value;null!==t&&""!==t&&H("image_path",t,{shouldDirty:!0})}})};return(0,u.jsx)(u.Fragment,{children:(0,u.jsxs)("form",{"data-testid":"edit-product-form",className:"border border-gray-400 rounded-xl max-w-8xl px-10 py-5 mb-8",onSubmit:y((function(e){console.log(e),k().fire({position:"bottom-end",title:null==c?"\u041f\u0440\u043e\u0434\u0443\u043a\u0442 \u0443\u0441\u043f\u0456\u0448\u043d\u043e \u0441\u0442\u0432\u043e\u0440\u0435\u043d\u043e!":"\u041f\u0440\u043e\u0434\u0443\u043a\u0442 \u0443\u0441\u043f\u0456\u0448\u043d\u043e \u043e\u043d\u043e\u0432\u043b\u0435\u043d\u043e!",text:e.title,icon:"success",imageUrl:e.image_path,showConfirmButton:!1,timer:5e3,customClass:{title:"font-oswald text-green-700",image:"max-w-56 max-h-56"}}),d(e)})),children:[(0,u.jsxs)("div",{className:"flex justify-between content-center",children:[A?(0,u.jsx)("div",{className:"text-sm text-green-600 font-oswald",children:"\u0443 \u0412\u0430\u0441 \u043d\u0435 \u0437\u0431\u0435\u0440\u0435\u0436\u0435\u043d\u0456 \u0437\u043c\u0456\u043d\u0438!"}):(0,u.jsx)("div",{className:"font-oswald text-sm text-zinc-200",children:"\u041d\u0435\u043c\u0430\u0454 \u0437\u043c\u0456\u043d."}),(0,u.jsx)("div",{className:"justify-end",children:(0,u.jsx)(L,{isEnabled:A,text:null==c?"\u0414\u043e\u0434\u0430\u0442\u0438 \u043f\u0440\u043e\u0434\u0443\u043a\u0442":"\u041e\u043d\u043e\u0432\u0438\u0442\u0438 \u043f\u0440\u043e\u0434\u0443\u043a\u0442"})})]}),(0,u.jsxs)("div",{className:"grid gap-6 mb-6 md:grid-cols-2",children:[(0,u.jsxs)("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-900",children:["\u041d\u0430\u0437\u0432\u0430:",(0,u.jsx)("input",(0,i.Z)({"data-testid":"title",id:"title",className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5"},j("title",{required:"This field is required."}))),(0,u.jsx)("p",{className:"m-0 text-sm text-red-600",children:null===(t=Z.title)||void 0===t?void 0:t.message})]}),(0,u.jsxs)("label",{className:"block text-sm font-medium text-gray-900",children:["\u0410\u043a\u0442\u0438\u0432\u043d\u0438\u0439:",(0,u.jsxs)("select",(0,i.Z)((0,i.Z)({"data-testid":"is-active",defaultValue:null===c||void 0===c?void 0:c.active,className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5"},j("active",{required:"This field is required."})),{},{children:[(0,u.jsx)("option",{value:"1",children:"Yes \ud83d\udca1"}),(0,u.jsx)("option",{value:"0",children:"No"})]})),(0,u.jsx)("p",{className:"mt-1 text-sm text-red-600",children:null===(r=Z.active)||void 0===r?void 0:r.message})]}),(0,u.jsxs)("label",{className:"block text-sm font-medium text-gray-900",children:["\u0406\u043d\u0434\u0435\u043a\u0441 \u0441\u043e\u0440\u0442\u0443\u0432\u0430\u043d\u043d\u044f:",(0,u.jsx)("input",(0,i.Z)({"data-testid":"sort-index",type:"number",className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5"},j("sort_index",{required:"This field is required."})))]}),(0,u.jsxs)("label",{htmlFor:"category",className:"block text-sm font-medium text-gray-900 dark:text-white",children:["\u041e\u0431\u0435\u0440\u0456\u0442\u044c \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0456\u044e:",(0,u.jsx)("select",(0,i.Z)((0,i.Z)({"data-testid":"category",id:"category",className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5"},j("category",{required:"This field is required."})),{},{children:x.map((function(e){return(0,u.jsx)("option",{value:e.name,children:e.description},e.id)}))})),(0,u.jsx)("p",{className:"mt-1 text-sm text-red-600",children:null===(l=Z.category)||void 0===l?void 0:l.message})]}),(0,u.jsxs)("label",{className:"block text-sm font-medium text-gray-900",children:["\u2116 SKU:",(0,u.jsx)("input",(0,i.Z)({"data-testid":"sku",type:"number",className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5"},j("sku",{required:"This field is required."}))),(0,u.jsx)("p",{className:"mt-1 text-sm text-red-600",children:null===(a=Z.title)||void 0===a?void 0:a.message})]}),(0,u.jsxs)("label",{className:"block text-sm font-medium text-gray-900",children:["URL \u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u043d\u044f(\u0437\u0430\u043f\u043e\u0432\u043d\u0438\u0442\u044c\u0441\u044f \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u043d\u043e):",(0,u.jsxs)("div",{className:"flex ",children:[(0,u.jsx)("input",(0,i.Z)({"data-testid":"image-path",type:"text",disabled:!0,readOnly:!0,className:"bg-gray-300 border border-gray-00 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 cursor-not-allowed block p-2.5 2xl:w-8/12"},j("image_path",{required:!1}))),f&&(0,w.createPortal)((0,u.jsx)(C,{handleSetImageUrl:function(e){null!==e&&""!==e&&(p(!1),H("image_path",e,{shouldDirty:!0}),console.log("updated image",e),k().close(),k().fire({title:"\u0417\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u043d\u044f \u0443\u0441\u043f\u0456\u0448\u043d\u043e \u0437\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u043e!",imageUrl:e,imageWidth:250,imageHeight:250,confirmButtonText:"\u0417\u0440\u043e\u0437\u0443\u043c\u0456\u043b\u043e",showCloseButton:!0,customClass:{confirmButton:"order-1 bg-green-700 hover:bg-green-800 font-oswald",title:"font-oswald text-green-700"}}))},productSku:""!==B("sku")?B("sku"):null===c||void 0===c?void 0:c.sku}),k().getHtmlContainer()),(0,u.jsx)("div",{className:"flex justify-start",children:(0,u.jsx)("button",{"data-testid":"edit-image-btn",type:"button",onClick:function(){f||(""!==B("sku")?S():k().fire({title:"\u041d\u0435\u043c\u0430\u0454 \u043d\u043e\u043c\u0435\u0440\u0443 \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u0443?",text:"\u0417\u0430\u043f\u043e\u0432\u043d\u0456\u0442\u044c \u043f\u043e\u043b\u0435 '\u043d\u043e\u043c\u0435\u0440 \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u0443(SKU)'!",icon:"error",confirmButtonText:"\u0417\u0440\u043e\u0437\u0443\u043c\u0456\u043b\u043e",customClass:{confirmButton:"order-1 bg-green-700 hover:bg-green-800 font-oswald"}}))},className:"font-oswald text-md cursor-pointer text-center focus:outline-none text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg px-5 py-1.5 mx-4",children:"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438 \u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u043d\u044f"})})]})]}),(0,u.jsxs)("label",{className:"block text-sm font-medium text-gray-900",children:["\u041e\u043f\u0438\u0441(\u043d\u0435 \u043e\u0431\u043e\u0432'\u044f\u0437\u043a\u043e\u0432\u043e):",(0,u.jsx)("input",(0,i.Z)({"data-testid":"description",className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5"},j("description",{required:!1})))]}),(0,u.jsxs)("label",{className:"block text-sm font-medium text-gray-900",children:["\u041e\u043f\u0438\u0441 \u043f\u043e\u0432\u043d\u0438\u0439:",(0,u.jsx)("input",(0,i.Z)({"data-testid":"description-long",disabled:!0,readOnly:!0,"aria-label":"disabled input 2",className:"bg-gray-300 border border-gray-00 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 cursor-not-allowed"},j("description_long")))]})]}),(0,u.jsx)("div",{className:"text-justify",children:(0,u.jsx)("div",{className:"mx-auto py-8",children:(0,u.jsx)(g,{content:null===c||void 0===c?void 0:c.description_long,onChange:function(e){null!==e&&""!==e&&H("description_long",e,{shouldDirty:!0})}})})}),(0,u.jsx)("div",{className:"flex justify-end",children:(0,u.jsx)(L,{isEnabled:A,text:null==c?"\u0414\u043e\u0434\u0430\u0442\u0438 \u043f\u0440\u043e\u0434\u0443\u043a\u0442":"\u041e\u043d\u043e\u0432\u0438\u0442\u0438 \u043f\u0440\u043e\u0434\u0443\u043a\u0442"})})]})})},L=function(e){var t=e.isEnabled,r=e.text,i=void 0===r?"Submit":r,s=(0,o.useState)(!t),l=(0,n.Z)(s,2),a=l[0],c=l[1];return(0,o.useEffect)((function(){return c(!t)}),[t]),(0,u.jsx)("button",{"data-testid":"submit-btn",disabled:a,className:"font-oswald text-center focus:outline-none text-white ".concat(a?"opacity-50 cursor-not-allowed bg-zinc-700":"bg-green-700 hover:bg-green-800 cursor-pointer","   focus:ring-4 focus:ring-green-300 font-medium rounded-lg text-lg px-5 py-2.5"),type:"submit",children:i})}}}]);